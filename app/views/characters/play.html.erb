<h1>Marvel Character Combat Arena</h1>
<h2>Who will battle today?</h2>

<h3>Enter both characters:</h3>
<%= form_tag '/play' do %>
  <%= label_tag :character_one %>
  <%= text_field_tag :character_one %>
  <br>
  <%= label_tag :character_two %>
  <%= text_field_tag :character_two %>
  <br>
  <%= label_tag 'Pick a number' %>
  <%= number_field_tag :num, nil, min: "1", max: "9" %>
  <br>
  <%= submit_tag "Submit" %>
<% end %>

<p>Don't know which character you want? <%=link_to "Search Characters", characters_path%></p>


<%if @word_one && @word_two %>
  <div class="player">
    <div class="clearfix">
      <div class="character_play">
        <div class="name"><%= link_to @character_one[0]["name"], @character_one[0]["urls"][0]["url"]%></div>
        <div class="thumbnail"><%= image_tag @character_one[0]['thumbnail']['path'] + '.jpg' %></div>
      </div>
      <div class="text"><h1> VS </h1></div>

      <div class="character_play">
        <div class="name"><%= link_to @character_two[0]["name"], @character_two[0]["urls"][0]["url"]%></div>
        <!-- I need to refactor this later so the name is a helper method -->
        <div class="thumbnail"><%=image_tag @character_two[0]['thumbnail']['path'] + '.jpg'%></div>
      </div>
    </div>
  </div>
  <div class="clearfix">
    <div class="winner">

      <%if (@all_words_two.include?("Gamma") || @all_words_two.include?("Radioactive") || @all_words_two.include?("gamma") || @all_words_two.include?("radioactive")) && (@all_words_one.include?("Gamma") || @all_words_one.include?("Radioactive") || @all_words_one.include?("gamma") || @all_words_one.include?("radioactive"))%>
        <h1>It's a draw!</h1>
      <%elsif (@all_words_one.include?("Gamma") || @all_words_one.include?("Radioactive") || @all_words_one.include?("gamma") || @all_words_one.include?("radioactive"))%>
        <h1>The winner is: <%=@character_one[0]["name"]%></h1>
        <p><%=@character_one[0]["description"]%></p>
      <%elsif (@all_words_two.include?("Gamma") || @all_words_two.include?("Radioactive") || @all_words_two.include?("gamma") || @all_words_two.include?("radioactive"))%>
        <h1>The winner is: <%=@character_two[0]["name"]%></h1>
        <p><%=@character_two[0]["description"]%></p>
      <%elsif @word_one.length > @word_two.length%>
        <h1>The winner is: <%=@character_one[0]["name"]%></h1>
        <p><%=@character_one[0]["description"]%></p>
      <%elsif @word_one.length < @word_two.length%>
        <h1>The winner is: <%=@character_two[0]["name"]%></h1>
        <p><%=@character_two[0]["description"]%></p>
      <%elsif @word_one.length == @word_two.length%>
        <h1>It's a draw!</h1>
      <%end%>
    </div>
  </div>
  <br></br>

<%elsif @error%>

  <h2>Sorry, <%=@error%></h2>

<%end%>
